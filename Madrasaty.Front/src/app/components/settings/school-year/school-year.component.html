<app-settings-header (btnClick)="OpenDiag()" ></app-settings-header>
<div class="row">
 <div class="col-lg-4" *ngFor="let item of rowData | filter:search">
  
     
        <mat-card class="card">
          <div class="col-sm-12">
          <h5 class="card-title"><strong class="strong">{{item.description}}</strong></h5>
          <br>
          <h5 class="card-text"><strong class="strong2">{{ item.StartDay | date:'dd-MM-yyyy'}} =>
            {{ item.EndDay | date:'dd-MM-yyyy'}}</strong></h5> 
         


            <mat-card-actions align="end" style="margin-bottom: -5px;">
              <button mat-mini-fab color="success"><mat-icon>edit</mat-icon></button>
              <button mat-mini-fab color="warn"><mat-icon>delete</mat-icon></button>
            </mat-card-actions>
         
        
            
      
          <ui-switch [checked]="item.Actif"
          (change)="setActifSchoolYear(item.Id)"> </ui-switch>
        
        <div class="clearfix"></div>
        </div>
      
      </mat-card>
    </div>

    <!-- formiulaire pour l'ajout d'un année scolaire -->

    <ng-template #callAPIDialog>
    <form [formGroup]="schoolYearForm"  >
          <mat-form-field appearance="outline">
            <mat-label>Nom</mat-label>
            <input matInput placeholder="Placeholder" required  type="text" formControlName="Name">
            <mat-error *ngIf="schoolYearForm.controls['Name'].errors?.required"> Le nom est obligatoire et doit être unique.</mat-error>
          </mat-form-field>
                   <br>
          <mat-form-field appearance="fill">
            <mat-label >Choose a date</mat-label>
            <input matInput [matDatepicker]="picker" required  formControlName="DateD" />
            <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
            <mat-error *ngIf="schoolYearForm.controls['DateD'].errors?.required">date debut est obligatoire.</mat-error>
            <mat-datepicker #picker></mat-datepicker>
          </mat-form-field>
          <br>
          <mat-form-field appearance="fill">
            <mat-label >Choose a date</mat-label>
            <input matInput [matDatepicker]="picker2" required  formControlName="Datef" />
            <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
            <mat-error *ngIf="schoolYearForm.controls['Datef'].errors?.required">date fin est obligatoire.</mat-error>
            <mat-datepicker #picker2></mat-datepicker>
          </mat-form-field>
   

        <mat-dialog-actions align="end">
          <button mat-button mat-dialog-close color="warn">Quitter</button>
          <button mat-raised-button color="success" >Confirmer</button>
        </mat-dialog-actions>
      </form> 
    </ng-template>
    